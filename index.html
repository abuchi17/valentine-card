<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üíå Booch ‚Üí Exondria</title>
  <meta name="theme-color" content="#ff4d6d" />

  <style>
    :root{
      --bg1:#0b0b12;
      --bg2:#170a14;
      --text:#f7f7fb;
      --muted:#c7c7d6;
      --accent:#ff4d6d;
      --accent2:#ffd1dc;
      --shadow:0 20px 60px rgba(0,0,0,.55);
    }
    *{ box-sizing:border-box }
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 20% 10%, #2a0f22 0%, transparent 60%),
        radial-gradient(900px 700px at 80% 90%, #1a1037 0%, transparent 55%),
        linear-gradient(160deg,var(--bg1),var(--bg2));
      overflow:hidden;
    }

    /* Floating hearts background */
    .heart{
      position:absolute; left:var(--x); bottom:-60px;
      width:20px; height:20px; transform:rotate(45deg);
      animation:floatUp var(--dur) linear infinite;
      pointer-events:none; opacity:0;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.25));
    }
    .heart::before,.heart::after{
      content:""; position:absolute; width:20px; height:20px; border-radius:50%;
      background:linear-gradient(160deg,var(--accent),#ff8fab);
    }
    .heart::before{ left:-10px; top:0 }
    .heart::after{ top:-10px; left:0 }
    @keyframes floatUp{
      0%{ transform:translateY(0) rotate(45deg) scale(.9); opacity:0 }
      15%{ opacity:.9 }
      100%{ transform:translateY(-120vh) rotate(45deg) scale(1.3); opacity:0 }
    }

    .wrap{ width:min(720px,92vw); padding:20px; position:relative; z-index:2; }
    .card{
      background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.12);
      border-radius:28px;
      box-shadow:var(--shadow);
      padding:26px;
      backdrop-filter:blur(10px);
    }
    .top{ display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap; margin-bottom:14px; }
    .badge,.pill{
      padding:10px 14px; border-radius:999px; font-size:12px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.04);
    }
    .badge{ letter-spacing:.12em; text-transform:uppercase; color:var(--muted) }
    .pill{ display:flex; align-items:center; gap:8px; color:var(--accent2); }
    .dot{
      width:10px; height:10px; border-radius:50%; background:var(--accent);
      box-shadow:0 0 0 6px rgba(255,77,109,.2);
      animation:pulse 1.4s infinite;
    }
    @keyframes pulse{ 50%{ transform:scale(1.1) } }

    /* FIXED Animated question (multi-line safe) */
    h1{ font-size:clamp(28px,5vw,46px); line-height:1.1; margin:14px 0 10px; }
    .typing{
      display:inline-block;
      clip-path:inset(0 100% 0 0);
      animation:reveal 1.35s ease forwards, caret .8s step-end infinite;
      border-right:3px solid rgba(255,255,255,.6);
      padding-right:6px;
      white-space:normal;
    }
    @keyframes reveal{ to{ clip-path:inset(0 0 0 0) } }
    @keyframes caret{ 50%{ border-color:transparent } }

    .lead{ color:var(--muted); font-size:15.5px; line-height:1.65; }

    .actions{ display:flex; gap:12px; flex-wrap:wrap; margin-top:22px; }
    button{
      border:none; border-radius:14px; padding:12px 18px;
      font-size:15px; font-weight:800; cursor:pointer; transition:.15s;
    }
    .yes{
      background:linear-gradient(160deg,var(--accent),#ff8fab);
      color:#12060b;
      box-shadow:0 14px 30px rgba(255,77,109,.25);
    }
    .no{
      background:rgba(255,255,255,.06);
      color:var(--text);
      border:1px solid rgba(255,255,255,.16);
    }
    button:hover{ filter:brightness(1.05) }

    .reveal{
      display:none;
      margin-top:18px;
      padding:16px;
      border-radius:18px;
      border:1px dashed rgba(255,255,255,.22);
      background:rgba(0,0,0,.18);
    }
    .revealTitle{ font-size:18px; font-weight:900; margin-bottom:6px; }
    .reveal strong{ color:var(--accent2) }
    .small{ font-size:12.5px; color:rgba(255,255,255,.7); margin-top:8px }

    .footer{
      margin-top:14px;
      display:flex;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:10px;
      font-size:12px;
      color:rgba(255,255,255,.45);
    }
    a{ color:var(--accent2); text-decoration:none; border-bottom:1px dotted }

    /* Fireworks overlay */
    .overlay{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      z-index:9999;
      background: radial-gradient(900px 600px at 50% 25%, rgba(255,77,109,.16), transparent 60%),
                  rgba(0,0,0,.72);
      backdrop-filter: blur(6px);
    }
    .overlayCard{
      width:min(720px, 92vw);
      border-radius:28px;
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      padding: 26px;
      position:relative;
      overflow:hidden;
    }
    .big{
      font-size: clamp(28px, 4.8vw, 44px);
      line-height:1.05;
      margin: 4px 0 10px;
      font-weight: 950;
    }
    .sub{
      color: var(--muted);
      font-size: 15.5px;
      line-height: 1.6;
      margin:0 0 16px;
    }
    .overlayActions{ display:flex; gap:12px; flex-wrap:wrap; margin-top: 16px; }
    .ghost{
      background: rgba(255,255,255,.06);
      color: var(--text);
      border: 1px solid rgba(255,255,255,.16);
    }
    .closeX{
      position:absolute;
      top:14px; right:14px;
      width:42px; height:42px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:var(--text);
      font-weight:900;
    }

    /* Fireworks canvas sits behind overlayCard content */
    #fw{
      position:fixed;
      inset:0;
      z-index:9998;
      display:none;
      pointer-events:none;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .heart{ display:none; }
      .typing{ animation:none; clip-path:none; border-right:none; padding-right:0; }
    }
  </style>
</head>

<body>

<canvas id="fw"></canvas>

<div class="overlay" id="overlay">
  <div class="overlayCard">
    <button class="closeX" id="closeOverlay" aria-label="Close">‚úï</button>
    <div class="badge" style="display:inline-block;margin-bottom:14px;">STATUS: IT‚ÄôS A YES üíñ</div>
    <div class="big">Booch & Exondria ü•Ç</div>
    <p class="sub">
      I‚Äôm smiling like an idiot right now.  
      You just upgraded my Valentine‚Äôs Day.
    </p>

    <div style="padding:14px;border-radius:18px;border:1px dashed rgba(255,255,255,.22);background:rgba(0,0,0,.18);">
      <div style="font-weight:900;margin-bottom:6px;">Send Booch this text:</div>
      <div><strong style="color:var(--accent2);">"Yes Booch ‚Äî I‚Äôm your Valentine."</strong></div>
      <div class="small">Virtual date loading‚Ä¶ üçøüé• I‚Äôll bring the jokes, you bring the pretty.</div>
    </div>

    <div class="overlayActions">
      <button class="yes" id="copyYes">Copy reply text</button>
      <button class="ghost" id="backBtn">Back to card</button>
    </div>

    <div class="footer" style="margin-top:18px;">
      <div>Tip: screenshot this for evidence üòå</div>
      <div>Fireworks: ON ‚úÖ</div>
    </div>
  </div>
</div>

<div class="wrap">
  <div class="card">
    <div class="top">
      <div class="badge">Booch ‚Üí Exondria ‚úàÔ∏è</div>
      <div class="pill"><span class="dot"></span>Certified Valentine Inquiry</div>
    </div>

    <h1><span class="typing">Exondria‚Ä¶ will you be my Valentine?</span></h1>

    <div class="lead">
      I was going to ask in person, Exondria‚Ä¶ but I‚Äôm across the world.
      So I‚Äôm doing the responsible adult thing and using technology to flirt.
    </div>

    <div class="actions">
      <button class="yes" id="yesBtn">Yes üíñ</button>
      <button class="no" id="noBtn">No üôÉ</button>
    </div>

    <div class="reveal" id="reveal">
      <div class="revealTitle">Okayyyyy üòÆ‚Äçüí®‚ù§Ô∏è That just made my day.</div>
      <div>Send Booch this text: <strong>"Yes Booch ‚Äî I‚Äôm your Valentine."</strong></div>
      <div class="small">If you say yes‚Ä¶ you owe me a virtual date. I‚Äôll bring the jokes, you bring the pretty.</div>
    </div>

    <div class="footer">
      <div>Tip: the ‚ÄúNo‚Äù button is lying üòå</div>
      <div><a href="#" id="copyText">Copy reply text</a></div>
    </div>
  </div>
</div>

<script>
  // Floating hearts background
  for(let i=0;i<14;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.style.setProperty("--x",Math.random()*100+"vw");
    h.style.setProperty("--dur",(8+Math.random()*6)+"s");
    h.style.animationDelay=(Math.random()*6)+"s";
    document.body.appendChild(h);
  }

  const overlay = document.getElementById("overlay");
  const canvas = document.getElementById("fw");
  const ctx = canvas.getContext("2d", { alpha: true });

  const yesBtn = document.getElementById("yesBtn");
  const reveal = document.getElementById("reveal");

  yesBtn.onclick = () => {
    reveal.style.display = "block";
    openOverlayWithFireworks();
  };

  // No dodge
  const no=document.getElementById("noBtn");
  let n=0;
  no.onmouseenter=()=>{
    n++;
    if(n>2){
      no.textContent="Okay okay‚Ä¶ Yes üò≠";
      no.className="yes";
      no.onclick=()=>yesBtn.click();
      no.onmouseenter=null;
      return;
    }
    no.style.transform=`translate(${Math.random()*160-80}px,${Math.random()*120-60}px)`;
  };

  // Copy text (footer)
  document.getElementById("copyText").onclick=async e=>{
    e.preventDefault();
    await copyReply(e.target);
  };

  // Overlay buttons
  document.getElementById("closeOverlay").onclick = closeOverlay;
  document.getElementById("backBtn").onclick = closeOverlay;

  document.getElementById("copyYes").onclick = async (e) => {
    await copyReply(e.target);
  };

  async function copyReply(target){
    const text = "Yes Booch ‚Äî I‚Äôm your Valentine.";
    try{
      await navigator.clipboard.writeText(text);
      const old = target.textContent;
      target.textContent = "Copied ‚úÖ";
      setTimeout(()=> target.textContent = old, 1200);
    }catch{
      alert("Couldn‚Äôt copy automatically ‚Äî just select the text or screenshot it.");
    }
  }

  // ---------------- Fireworks (simple particle system) ----------------
  let running = false;
  let particles = [];
  let lastSpawn = 0;
  let startTime = 0;
  let rafId = null;

  function resize(){
    const dpr = Math.max(1, window.devicePixelRatio || 1);
    canvas.width = Math.floor(window.innerWidth * dpr);
    canvas.height = Math.floor(window.innerHeight * dpr);
    canvas.style.width = window.innerWidth + "px";
    canvas.style.height = window.innerHeight + "px";
    ctx.setTransform(dpr,0,0,dpr,0,0);
  }
  window.addEventListener("resize", resize);

  function openOverlayWithFireworks(){
    overlay.style.display = "grid";
    canvas.style.display = "block";
    resize();

    // Respect reduced motion
    const reduce = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    if(reduce) return;

    running = true;
    particles = [];
    lastSpawn = 0;
    startTime = performance.now();
    loop(performance.now());
  }

  function closeOverlay(){
    overlay.style.display = "none";
    canvas.style.display = "none";
    running = false;
    particles = [];
    if(rafId) cancelAnimationFrame(rafId);
    ctx.clearRect(0,0,canvas.width,canvas.height);
  }

  function spawnFirework(){
    const x = 80 + Math.random() * (window.innerWidth - 160);
    const y = 80 + Math.random() * (window.innerHeight * 0.45);
    const count = 70 + Math.floor(Math.random()*40);
    const baseSpeed = 2.2 + Math.random()*2.0;

    for(let i=0;i<count;i++){
      const a = (Math.PI * 2) * (i / count) + (Math.random()*0.12);
      const s = baseSpeed * (0.6 + Math.random()*1.4);
      particles.push({
        x, y,
        vx: Math.cos(a) * s,
        vy: Math.sin(a) * s,
        life: 1,
        decay: 0.010 + Math.random()*0.012,
        size: 2 + Math.random()*2,
        hue: 330 + Math.random()*50, // pink-ish range
      });
    }
  }

  function loop(t){
    if(!running) return;
    rafId = requestAnimationFrame(loop);

    // Auto-stop after ~5 seconds (still leaves overlay)
    if(t - startTime > 5200){
      running = false;
      return;
    }

    // Spawn bursts ~every 650ms
    if(t - lastSpawn > 650){
      lastSpawn = t;
      spawnFirework();
    }

    // Fade canvas slightly for trails
    ctx.fillStyle = "rgba(0,0,0,0.18)";
    ctx.fillRect(0,0,window.innerWidth,window.innerHeight);

    // Update + draw particles
    for(let i=particles.length-1;i>=0;i--){
      const p = particles[i];
      p.x += p.vx;
      p.y += p.vy;
      p.vx *= 0.985;
      p.vy *= 0.985;
      p.vy += 0.02; // gravity
      p.life -= p.decay;

      if(p.life <= 0){
        particles.splice(i,1);
        continue;
      }

      ctx.beginPath();
      ctx.fillStyle = `hsla(${p.hue}, 90%, 70%, ${Math.max(0, p.life)})`;
      ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
      ctx.fill();
    }
  }
</script>

</body>
</html>
